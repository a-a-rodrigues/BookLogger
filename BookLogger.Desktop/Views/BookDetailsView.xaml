<Page x:Class="BookLogger.Desktop.Views.BookDetailsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Book Details">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <!-- Main content -->
            <RowDefinition Height="Auto" />
            <!-- Controls / Add button -->
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200" />
                <!-- Book cover -->
                <ColumnDefinition Width="*" />
                <!-- Metadata -->
            </Grid.ColumnDefinitions>
            <!-- LEFT: Book Cover -->
            <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="1" CornerRadius="5">
                <Image Source="{Binding SelectedBook.LocalImagePath}" Stretch="Uniform" />
            </Border>
            <!-- RIGHT: Metadata -->
            <StackPanel Grid.Column="1" Margin="20,0,0,0">
                <TextBlock Text="{Binding SelectedBook.Title}" FontSize="20" FontWeight="Bold" Margin="0,0,0,10"/>
                <TextBlock Text="{Binding SelectedBook.Author}" FontSize="16" Margin="0,0,0,5"/>
                <TextBlock Text="{Binding SelectedBook.ISBN, StringFormat='ISBN: {0}'}" Margin="0,0,0,5"/>
                <TextBlock Text="{Binding SelectedBook.Publisher, StringFormat='Publisher: {0}'}" Margin="0,0,0,5"/>
                <TextBlock Text="{Binding SelectedBook.FirstPublishYear, StringFormat='Published: {0}'}" Margin="0,0,0,5"/>
                <!-- Add more metadata fields as needed -->
            </StackPanel>
        </Grid>
        <!-- BOTTOM: User Inputs -->
        <StackPanel Grid.Row="1" Orientation="Vertical">
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Rating:" VerticalAlignment="Center" Width="60"/>
                <ComboBox Width="100" ItemsSource="{Binding RatingOptions}" SelectedItem="{Binding UserRating}" />
                <TextBlock Text="Date Read:" VerticalAlignment="Center" Margin="20,0,0,0"/>
                <DatePicker SelectedDate="{Binding DateRead}" Width="150"/>
            </StackPanel>

            <StackPanel Orientation="Vertical" Margin="0,0,0,10">
                <TextBlock Text="Review:"/>
                <TextBox Text="{Binding UserReview}" AcceptsReturn="True" Height="80" TextWrapping="Wrap"/>
            </StackPanel>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancel" Width="100" Height="35" Margin="0,0,10,0"
                Command="{Binding CancelCommand}" />
                <Button Content="Add to Library" Width="150" Height="35"
                Command="{Binding AddBookCommand}" />
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>
